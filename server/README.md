# AlfaVoice Server

–°–µ—Ä–≤–µ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ AlfaVoice –Ω–∞ –±–∞–∑–µ Rust + Axum.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
server/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.rs          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ ws.rs            # WebSocket –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
‚îÇ   ‚îî‚îÄ‚îÄ state.rs         # –û–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ Cargo.toml           # Rust –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–¢—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Rust (1.70+).

```bash
cargo build --release
```

## –ó–∞–ø—É—Å–∫

```bash
cargo run
```

## –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
cargo run
# –∏–ª–∏
cargo watch -x run
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–µ—Ä–∞
curl http://localhost:8080/health

# –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
# {"status":"ok","version":"0.1.0"}
```

## API Endpoints

### GET /health

–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–µ—Ä–∞.

**Response:**
```json
{
  "status": "ok",
  "version": "0.1.0"
}
```

### WS /ws

WebSocket endpoint –¥–ª—è –ø—Ä–∏–µ–º–∞ –∞—É–¥–∏–æ –¥–∞–Ω–Ω—ã—Ö –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏.

**Connection:**
```
ws://localhost:8080/ws
```

**Message Types:**

–ö–ª–∏–µ–Ω—Ç ‚Üí –°–µ—Ä–≤–µ—Ä:
- `Binary`: –ê—É–¥–∏–æ –¥–∞–Ω–Ω—ã–µ (WebM/Ogg)
- `Text`: JSON —Å–æ–æ–±—â–µ–Ω–∏—è

–°–µ—Ä–≤–µ—Ä ‚Üí –ö–ª–∏–µ–Ω—Ç:
```json
{
  "type": "transcription",
  "text": "–¢–µ–∫—Å—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏"
}
```

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîå WebSocket —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- üé§ –ü—Ä–∏–µ–º –∞—É–¥–∏–æ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤
- üìù Mock-—Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è (–∑–∞–≥–ª—É—à–∫–∞)
- üìä –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- üåê CORS –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `axum` - Web —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- `tokio` - Async runtime
- `tower-http` - HTTP middleware (CORS, logging)
- `tracing` - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- `serde` - –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
- `uuid` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö ID
- `chrono` - –†–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–æ–π/–≤—Ä–µ–º–µ–Ω–µ–º
