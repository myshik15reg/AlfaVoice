# TDD Workflow: The Red-Green-Refactor Cycle

> **–ü—Ä–∏–Ω—Ü–∏–ø:** "No Test = No Code". –ú—ã –Ω–µ –ø–∏—à–µ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –±–µ–∑ –ø–∞–¥–∞—é—â–µ–≥–æ —Ç–µ—Å—Ç–∞.

## 1. –¶–∏–∫–ª TDD (Red-Green-Refactor)

### üî¥ RED: –ù–∞–ø–∏—à–∏ –ø–∞–¥–∞—é—â–∏–π —Ç–µ—Å—Ç
1. **–¶–µ–ª—å:** –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∂–µ–ª–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
2. **–î–µ–π—Å—Ç–≤–∏—è:**
   - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç–µ—Å—Ç-—Ñ–∞–π–ª –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å `test case`.
   - –ù–∞–ø–∏—Å–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥ —Ç–µ—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–æ–≤–æ–µ —É—Å–ª–æ–≤–∏–µ.
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–Ω **–ø–∞–¥–∞–µ—Ç** (Compilation Error –∏–ª–∏ Assertion Error).
3. **–ö—Ä–∏—Ç–µ—Ä–∏–π:** –¢–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø–∞–¥–∞—Ç—å –∏–º–µ–Ω–Ω–æ –ø–æ —Ç–æ–π –ø—Ä–∏—á–∏–Ω–µ, –∫–æ—Ç–æ—Ä—É—é –º—ã –æ–∂–∏–¥–∞–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Function not found" –∏–ª–∏ "Expected 200, got 404").

### üü¢ GREEN: –°–¥–µ–ª–∞–π —Ç–µ—Å—Ç –ø—Ä–æ—Ö–æ–¥—è—â–∏–º
1. **–¶–µ–ª—å:** –ó–∞—Å—Ç–∞–≤–∏—Ç—å —Ç–µ—Å—Ç –ø—Ä–æ–π—Ç–∏ –∫–∞–∫ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ.
2. **–î–µ–π—Å—Ç–≤–∏—è:**
   - –ù–∞–ø–∏—Å–∞—Ç—å **–º–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –∫–æ–¥**.
   - –ù–µ –¥—É–º–∞—Ç—å –æ–± –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏–ª–∏ —á–∏—Å—Ç–æ—Ç–µ –∫–æ–¥–∞ –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ.
   - Hardcode –∑–Ω–∞—á–µ–Ω–∏–π –¥–æ–ø—É—Å—Ç–∏–º, –µ—Å–ª–∏ —ç—Ç–æ —Ä–µ—à–∞–µ—Ç –∑–∞–¥–∞—á—É —Ç–µ—Å—Ç–∞ (–±—É–¥–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ Refactor).
3. **–ö—Ä–∏—Ç–µ—Ä–∏–π:** –í—Å–µ —Ç–µ—Å—Ç—ã (–≤–∫–ª—é—á–∞—è –Ω–æ–≤—ã–π) –ø—Ä–æ—Ö–æ–¥—è—Ç.

### üîµ REFACTOR: –£–ª—É—á—à–∏ –∫–æ–¥
1. **–¶–µ–ª—å:** –£–±—Ä–∞—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥, –Ω–µ –ª–æ–º–∞—è —Ç–µ—Å—Ç—ã.
2. **–î–µ–π—Å—Ç–≤–∏—è:**
   - –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (DRY).
   - –£–ª—É—á—à–∏—Ç—å –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.
   - –í—ã–¥–µ–ª–∏—Ç—å –º–µ—Ç–æ–¥—ã/–∫–ª–∞—Å—Å—ã (SRP).
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º.
3. **–ö—Ä–∏—Ç–µ—Ä–∏–π:** –í—Å–µ —Ç–µ—Å—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è –∑–µ–ª–µ–Ω—ã–º–∏ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

## 2. –ê–≥–µ–Ω—Ç–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –≤ TDD

### –†–æ–ª—å: Code Mode (Developer)
- –ü–∏—à–µ—Ç Unit-—Ç–µ—Å—Ç—ã –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é.
- –°–ª–µ–¥—É–µ—Ç —Ü–∏–∫–ª—É RGR —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –º–æ–¥—É–ª–µ–π.

### –†–æ–ª—å: Unit Tester (Assistant)
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ *–ø–µ—Ä–µ–¥* —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π (—Å—Ç—Ä–∞—Ç–µ–≥–∏—è Test-First).
- **–ó–∞–¥–∞—á–∞:** "–ù–∞–ø–∏—à–∏ —Ç–µ—Å—Ç—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ X, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–ª–∂–Ω–∞ –¥–µ–ª–∞—Ç—å Y".

### –†–æ–ª—å: QA Engineer (Integration/E2E)
- –ü–∏—à–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã *–ø–æ—Å–ª–µ* —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ API.
- –ù–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ RGR —Ü–∏–∫–ª–µ unit-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

## 3. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞

1. **Baby Steps:** –¢–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å –æ–¥–Ω–æ –Ω–µ–±–æ–ª—å—à–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ. –ù–µ –ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç –Ω–∞ 100 —Å—Ç—Ä–æ–∫ —Å—Ä–∞–∑—É.
2. **Test Behavior, Not Implementation:** –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç, –∞ –Ω–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã.
3. **Isolation:** Unit-—Ç–µ—Å—Ç—ã –Ω–µ –¥–æ–ª–∂–Ω—ã —Ö–æ–¥–∏—Ç—å –≤ —Å–µ—Ç—å –∏–ª–∏ –±–∞–∑—É (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ–∫–∏).
4. **Integration Tests:** –î–æ–ª–∂–Ω—ã –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ (–ë–î, API) –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ (Testcontainers).

## 4. –ü—Ä–∏–º–µ—Ä (Python/Pytest)

### RED
```python
# test_calculator.py
def test_add():
    assert add(2, 3) == 5  # NameError: name 'add' is not defined
```

### GREEN
```python
# calculator.py
def add(a, b):
    return 5  # Fake implementation just to pass
```

### REFACTOR (–ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è test_add(1,1))
```python
# calculator.py
def add(a, b):
    return a + b  # Real implementation