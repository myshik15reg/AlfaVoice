import{s as Et,n as _e,v as qt,c as Mt,o as Pe,q as kt,x as zt,r as St,y as Ft,a as h,b as _,d as D,k as $,f as V,g as m,h as x,e as Ye,t as Ze,z as yt,u as Gt,A as Jt}from"../chunks/tEVaBw1t.js";import{S as Vt,i as xt,d as N,v as $t,a as g,b as U,c as a,o as ye,k as d,p as jt,q as Ct,s as et,u as Kt,r as Qt,e as ae,w as Wt,f as Q,t as H,g as T,h as je,j as W,m as X,l as ke,n as Ce}from"../chunks/BGWbKkEQ.js";import{g as Bt}from"../chunks/D0QH3NT1.js";import{H as Lt}from"../chunks/BywDTSGp.js";import{s as he}from"../chunks/Cvmz1LN0.js";import{I as Xt,M as Oe,V as It,G as Dt}from"../chunks/c55LCVDM.js";const{Error:wt}=Bt,L="C:/Users/Евгений/Documents/AlfaVoice/client/src/lib/components/MicrophoneDialog.svelte";function Ne(l,e,t){const i=l.slice();return i[12]=e[t],i}function Je(l){let e,t,i,s,n="Select Microphone",o,r,p="✕",f,v,u,k;function b(j,c){return j[2]?Ot:j[3]?Pt:j[1].length===0?Nt:Rt}let M=b(l),w=M(l);const S={c:function(){e=m("div"),t=m("div"),i=m("div"),s=m("h2"),s.textContent=n,o=x(),r=m("button"),r.textContent=p,f=x(),v=m("div"),w.c(),this.h()},l:function(c){e=_(c,"DIV",{class:!0});var C=D(e);t=_(C,"DIV",{class:!0});var re=D(t);i=_(re,"DIV",{class:!0});var ne=D(i);s=_(ne,"H2",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-vlqfe6"&&(s.textContent=n),o=V(ne),r=_(ne,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),$(r)!=="svelte-apaby2"&&(r.textContent=p),ne.forEach(g),f=V(re),v=_(re,"DIV",{class:!0});var z=D(v);w.l(z),z.forEach(g),re.forEach(g),C.forEach(g),this.h()},h:function(){d(s,"class","svelte-tsja7e"),h(s,L,63,4,1181),d(r,"class","close-button svelte-tsja7e"),d(r,"aria-label","Close"),h(r,L,64,4,1212),d(i,"class","dialog-header svelte-tsja7e"),h(i,L,62,3,1149),d(v,"class","dialog-content svelte-tsja7e"),h(v,L,69,3,1328),d(t,"class","dialog svelte-tsja7e"),h(t,L,61,2,1100),d(e,"class","dialog-overlay svelte-tsja7e"),h(e,L,60,1,1037)},m:function(c,C){U(c,e,C),a(e,t),a(t,i),a(i,s),a(i,o),a(i,r),a(t,f),a(t,v),w.m(v,null),u||(k=[ye(r,"click",l[7],!1,!1,!1),ye(t,"click",Ft(l[6]),!1,!1,!0),ye(e,"click",l[10],!1,!1,!1)],u=!0)},p:function(c,C){M===(M=b(c))&&w?w.p(c,C):(w.d(1),w=M(c),w&&(w.c(),w.m(v,null)))},d:function(c){c&&g(e),w.d(),u=!1,St(k)}};return N("SvelteRegisterBlock",{block:S,id:Je.name,type:"if",source:"(39:0) {#if open}",ctx:l}),S}function Rt(l){let e,t=[],i=new Map,s=jt(l[1]);const n=r=>r[12].deviceId;Ct(l,s,Ne,n);for(let r=0;r<s.length;r+=1){let p=Ne(l,s,r),f=n(p);i.set(f,t[r]=Qe(f,p))}const o={c:function(){e=m("ul");for(let p=0;p<t.length;p+=1)t[p].c();this.h()},l:function(p){e=_(p,"UL",{class:!0});var f=D(e);for(let v=0;v<t.length;v+=1)t[v].l(f);f.forEach(g),this.h()},h:function(){d(e,"class","device-list svelte-tsja7e"),h(e,L,77,5,1593)},m:function(p,f){U(p,e,f);for(let v=0;v<t.length;v+=1)t[v]&&t[v].m(e,null)},p:function(p,f){f&50&&(s=jt(p[1]),Ct(p,s,Ne,n),t=Kt(t,f,n,1,p,s,i,e,Qt,Qe,null,Ne))},d:function(p){p&&g(e);for(let f=0;f<t.length;f+=1)t[f].d()}};return N("SvelteRegisterBlock",{block:o,id:Rt.name,type:"else",source:"(56:4) {:else}",ctx:l}),o}function Nt(l){let e,t="No microphones found";const i={c:function(){e=m("div"),e.textContent=t,this.h()},l:function(n){e=_(n,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-10c5d20"&&(e.textContent=t),this.h()},h:function(){d(e,"class","empty svelte-tsja7e"),h(e,L,75,5,1530)},m:function(n,o){U(n,e,o)},p:_e,d:function(n){n&&g(e)}};return N("SvelteRegisterBlock",{block:i,id:Nt.name,type:"if",source:"(54:35) ",ctx:l}),i}function Pt(l){let e,t;const i={c:function(){e=m("div"),t=Ze(l[3]),this.h()},l:function(n){e=_(n,"DIV",{class:!0});var o=D(e);t=Ye(o,l[3]),o.forEach(g),this.h()},h:function(){d(e,"class","error svelte-tsja7e"),h(e,L,73,5,1456)},m:function(n,o){U(n,e,o),a(e,t)},p:function(n,o){o&8&&et(t,n[3])},d:function(n){n&&g(e)}};return N("SvelteRegisterBlock",{block:i,id:Pt.name,type:"if",source:"(52:20) ",ctx:l}),i}function Ot(l){let e,t="Loading microphones...";const i={c:function(){e=m("div"),e.textContent=t,this.h()},l:function(n){e=_(n,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-p2j21a"&&(e.textContent=t),this.h()},h:function(){d(e,"class","loading svelte-tsja7e"),h(e,L,71,5,1380)},m:function(n,o){U(n,e,o)},p:_e,d:function(n){n&&g(e)}};return N("SvelteRegisterBlock",{block:i,id:Ot.name,type:"if",source:"(50:4) {#if loading}",ctx:l}),i}function Ke(l){let e,t="✓";const i={c:function(){e=m("span"),e.textContent=t,this.h()},l:function(n){e=_(n,"SPAN",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-6ki677"&&(e.textContent=t),this.h()},h:function(){d(e,"class","selected-indicator svelte-tsja7e"),h(e,L,95,10,2241)},m:function(n,o){U(n,e,o)},d:function(n){n&&g(e)}};return N("SvelteRegisterBlock",{block:i,id:Ke.name,type:"if",source:"(74:9) {#if $settingsStore.selectedMicrophoneId === device.deviceId}",ctx:l}),i}function Qe(l,e){let t,i,s,n=e[12].label+"",o,r,p,f,v,u=e[4].selectedMicrophoneId===e[12].deviceId&&Ke(e);function k(){return e[8](e[12])}function b(...w){return e[9](e[12],...w)}const M={key:l,first:null,c:function(){t=m("li"),i=m("div"),s=m("span"),o=Ze(n),r=x(),u&&u.c(),p=x(),this.h()},l:function(S){t=_(S,"LI",{class:!0,role:!0,tabindex:!0});var j=D(t);i=_(j,"DIV",{class:!0});var c=D(i);s=_(c,"SPAN",{class:!0});var C=D(s);o=Ye(C,n),C.forEach(g),r=V(c),u&&u.l(c),c.forEach(g),p=V(j),j.forEach(g),this.h()},h:function(){d(s,"class","device-label svelte-tsja7e"),h(s,L,93,9,2111),d(i,"class","device-info svelte-tsja7e"),h(i,L,92,8,2076),d(t,"class","device-item svelte-tsja7e"),d(t,"role","button"),d(t,"tabindex","0"),yt(t,"selected",e[4].selectedMicrophoneId===e[12].deviceId),h(t,L,79,7,1675),this.first=t},m:function(S,j){U(S,t,j),a(t,i),a(i,s),a(s,o),a(i,r),u&&u.m(i,null),a(t,p),f||(v=[ye(t,"click",k,!1,!1,!1),ye(t,"keydown",b,!1,!1,!1)],f=!0)},p:function(S,j){e=S,j&2&&n!==(n=e[12].label+"")&&et(o,n),e[4].selectedMicrophoneId===e[12].deviceId?u||(u=Ke(e),u.c(),u.m(i,null)):u&&(u.d(1),u=null),j&18&&yt(t,"selected",e[4].selectedMicrophoneId===e[12].deviceId)},d:function(S){S&&g(t),u&&u.d(),f=!1,St(v)}};return N("SvelteRegisterBlock",{block:M,id:Qe.name,type:"each",source:"(58:6) {#each devices as device (device.deviceId)}",ctx:e}),M}function We(l){let e,t=l[0]&&Je(l);const i={c:function(){t&&t.c(),e=kt()},l:function(n){t&&t.l(n),e=kt()},m:function(n,o){t&&t.m(n,o),U(n,e,o)},p:function(n,[o]){n[0]?t?t.p(n,o):(t=Je(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:_e,o:_e,d:function(n){n&&g(e),t&&t.d(n)}};return N("SvelteRegisterBlock",{block:i,id:We.name,type:"component",source:"",ctx:l}),i}function Yt(l,e,t){let i;qt(he,"settingsStore"),Mt(l,he,c=>t(4,i=c));let{$$slots:s={},$$scope:n}=e;$t("MicrophoneDialog",s,[]);let{open:o=!1}=e,r=[],p=!1,f=null;async function v(){t(2,p=!0),t(3,f=null),t(1,r=[]);try{await navigator.mediaDevices.getUserMedia({audio:!0});const c=await navigator.mediaDevices.enumerateDevices();t(1,r=c.filter(C=>C.kind==="audioinput").map(C=>({deviceId:C.deviceId,label:C.label||`Microphone ${C.deviceId.slice(0,8)}...`,kind:C.kind})))}catch(c){t(3,f=c instanceof Error?c.message:"Failed to load microphones")}finally{t(2,p=!1)}}function u(c){he.setSelectedMicrophoneId(c),t(0,o=!1)}Pe(()=>{o&&v()});const k=["open"];Object.keys(e).forEach(c=>{!~k.indexOf(c)&&c.slice(0,2)!=="$$"&&c!=="slot"&&console.warn(`<MicrophoneDialog> was created with unknown prop '${c}'`)});function b(c){zt.call(this,l,c)}const M=()=>t(0,o=!1),w=c=>u(c.deviceId),S=(c,C)=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),u(c.deviceId))},j=()=>t(0,o=!1);return l.$$set=c=>{"open"in c&&t(0,o=c.open)},l.$capture_state=()=>({onMount:Pe,settingsStore:he,open:o,devices:r,loading:p,error:f,loadDevices:v,selectDevice:u,$settingsStore:i}),l.$inject_state=c=>{"open"in c&&t(0,o=c.open),"devices"in c&&t(1,r=c.devices),"loading"in c&&t(2,p=c.loading),"error"in c&&t(3,f=c.error)},e&&"$$inject"in e&&l.$inject_state(e.$$inject),l.$$.update=()=>{l.$$.dirty&3&&o&&r.length===0&&v()},[o,r,p,f,i,u,b,M,w,S,j]}class At extends Vt{constructor(e){super(e),xt(this,e,Yt,We,Et,{open:0}),N("SvelteRegisterComponent",{component:this,tagName:"MicrophoneDialog",options:e,id:We.name})}get open(){throw new wt("<MicrophoneDialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set open(e){throw new wt("<MicrophoneDialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:Zt}=Bt,I="C:/Users/Евгений/Documents/AlfaVoice/client/src/routes/settings/+page.svelte";function Ht(l){let e,t,i,s,n,o;var r=Oe;function p(v,u){return{props:{size:16,class:"mic-icon"},$$inline:!0}}r&&(t=ae(r,p()));const f={c:function(){e=m("div"),t&&W(t.$$.fragment),i=x(),s=m("span"),n=Ze(l[1]),this.h()},l:function(u){e=_(u,"DIV",{class:!0});var k=D(e);t&&ke(t.$$.fragment,k),i=V(k),s=_(k,"SPAN",{});var b=D(s);n=Ye(b,l[1]),b.forEach(g),k.forEach(g),this.h()},h:function(){h(s,I,79,8,2177),d(e,"class","microphone-label svelte-1q7urtj"),h(e,I,77,7,2065)},m:function(u,k){U(u,e,k),t&&X(t,e,null),a(e,i),a(e,s),a(s,n),o=!0},p:function(u,k){if(r!==(r=Oe)){if(t){Ce();const b=t;H(b.$$.fragment,1,0,()=>{Q(b,1)}),je()}r?(t=ae(r,p()),W(t.$$.fragment),T(t.$$.fragment,1),X(t,e,i)):t=null}(!o||k&2)&&et(n,u[1])},i:function(u){o||(t&&T(t.$$.fragment,u),o=!0)},o:function(u){t&&H(t.$$.fragment,u),o=!1},d:function(u){u&&g(e),t&&Q(t)}};return N("SvelteRegisterBlock",{block:f,id:Ht.name,type:"else",source:"(66:6) {:else}",ctx:l}),f}function Tt(l){let e,t="Загрузка...";const i={c:function(){e=m("div"),e.textContent=t,this.h()},l:function(n){e=_(n,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-r1ps2s"&&(e.textContent=t),this.h()},h:function(){d(e,"class","microphone-label loading svelte-1q7urtj"),h(e,I,75,7,1988)},m:function(n,o){U(n,e,o)},p:_e,i:_e,o:_e,d:function(n){n&&g(e)}};return N("SvelteRegisterBlock",{block:i,id:Tt.name,type:"if",source:"(64:6) {#if loadingLabel}",ctx:l}),i}function Xe(l){let e,t,i,s,n,o,r="Настройки",p,f,v,u,k,b,M,w="Микрофон",S,j,c,C,re="Выбранный микрофон",ne,z,tt="Выберите устройство для записи голоса",Ae,G,P,O,Ie,Y,nt="Изменить",He,Z,ue,J,E,De,se,st="Аудио",Te,fe,ie,it="Скоро будет доступно",Ue,ee,de,K,q,we,oe,ot="Язык",ze,ve,le,lt="Скоро будет доступно",Ee,te,Fe,qe,Ge,ct;t=new Lt({$$inline:!0});var me=Oe;function at(B,y){return{props:{size:20,class:"section-icon"},$$inline:!0}}me&&(k=ae(me,at()));const rt=[Tt,Ht],ce=[];function ut(B,y){return B[2]?0:1}P=ut(l),O=ce[P]=rt[P](l);var pe=It;function ft(B,y){return{props:{size:20,class:"section-icon"},$$inline:!0}}pe&&(E=ae(pe,ft()));var ge=Dt;function dt(B,y){return{props:{size:20,class:"section-icon"},$$inline:!0}}ge&&(q=ae(ge,dt()));function Ut(B){l[5](B)}let vt={};l[0]!==void 0&&(vt.open=l[0]),te=new At({props:vt,$$inline:!0}),Gt.push(()=>Wt(te,"open",Ut));const ht={c:function(){e=m("div"),W(t.$$.fragment),i=x(),s=m("div"),n=m("div"),o=m("h1"),o.textContent=r,p=x(),f=m("section"),v=m("div"),u=m("div"),k&&W(k.$$.fragment),b=x(),M=m("h2"),M.textContent=w,S=x(),j=m("div"),c=m("div"),C=m("label"),C.textContent=re,ne=x(),z=m("p"),z.textContent=tt,Ae=x(),G=m("div"),O.c(),Ie=x(),Y=m("button"),Y.textContent=nt,He=x(),Z=m("section"),ue=m("div"),J=m("div"),E&&W(E.$$.fragment),De=x(),se=m("h2"),se.textContent=st,Te=x(),fe=m("div"),ie=m("p"),ie.textContent=it,Ue=x(),ee=m("section"),de=m("div"),K=m("div"),q&&W(q.$$.fragment),we=x(),oe=m("h2"),oe.textContent=ot,ze=x(),ve=m("div"),le=m("p"),le.textContent=lt,Ee=x(),W(te.$$.fragment),this.h()},l:function(y){e=_(y,"DIV",{class:!0});var A=D(e);ke(t.$$.fragment,A),i=V(A),s=_(A,"DIV",{class:!0});var be=D(s);n=_(be,"DIV",{class:!0});var F=D(n);o=_(F,"H1",{class:!0,"data-svelte-h":!0}),$(o)!=="svelte-1hus8pa"&&(o.textContent=r),p=V(F),f=_(F,"SECTION",{class:!0});var R=D(f);v=_(R,"DIV",{class:!0});var _t=D(v);u=_(_t,"DIV",{class:!0});var Me=D(u);k&&ke(k.$$.fragment,Me),b=V(Me),M=_(Me,"H2",{class:!0,"data-svelte-h":!0}),$(M)!=="svelte-pxwg5v"&&(M.textContent=w),Me.forEach(g),_t.forEach(g),S=V(R),j=_(R,"DIV",{class:!0});var Se=D(j);c=_(Se,"DIV",{class:!0});var Ve=D(c);C=_(Ve,"LABEL",{class:!0,"data-svelte-h":!0}),$(C)!=="svelte-1ypr2e3"&&(C.textContent=re),ne=V(Ve),z=_(Ve,"P",{class:!0,"data-svelte-h":!0}),$(z)!=="svelte-1aar4yd"&&(z.textContent=tt),Ve.forEach(g),Ae=V(Se),G=_(Se,"DIV",{class:!0});var xe=D(G);O.l(xe),Ie=V(xe),Y=_(xe,"BUTTON",{class:!0,"data-svelte-h":!0}),$(Y)!=="svelte-1q0ngq9"&&(Y.textContent=nt),xe.forEach(g),Se.forEach(g),R.forEach(g),He=V(F),Z=_(F,"SECTION",{class:!0});var $e=D(Z);ue=_($e,"DIV",{class:!0});var mt=D(ue);J=_(mt,"DIV",{class:!0});var Be=D(J);E&&ke(E.$$.fragment,Be),De=V(Be),se=_(Be,"H2",{class:!0,"data-svelte-h":!0}),$(se)!=="svelte-6rmuc5"&&(se.textContent=st),Be.forEach(g),mt.forEach(g),Te=V($e),fe=_($e,"DIV",{class:!0});var pt=D(fe);ie=_(pt,"P",{class:!0,"data-svelte-h":!0}),$(ie)!=="svelte-1togwdk"&&(ie.textContent=it),pt.forEach(g),$e.forEach(g),Ue=V(F),ee=_(F,"SECTION",{class:!0});var Le=D(ee);de=_(Le,"DIV",{class:!0});var gt=D(de);K=_(gt,"DIV",{class:!0});var Re=D(K);q&&ke(q.$$.fragment,Re),we=V(Re),oe=_(Re,"H2",{class:!0,"data-svelte-h":!0}),$(oe)!=="svelte-n2j24x"&&(oe.textContent=ot),Re.forEach(g),gt.forEach(g),ze=V(Le),ve=_(Le,"DIV",{class:!0});var bt=D(ve);le=_(bt,"P",{class:!0,"data-svelte-h":!0}),$(le)!=="svelte-1togwdk"&&(le.textContent=lt),bt.forEach(g),Le.forEach(g),F.forEach(g),be.forEach(g),A.forEach(g),Ee=V(y),ke(te.$$.fragment,y),this.h()},h:function(){d(o,"class","page-title svelte-1q7urtj"),h(o,I,55,3,1386),d(M,"class","svelte-1q7urtj"),h(M,I,62,6,1644),d(u,"class","section-title svelte-1q7urtj"),h(u,I,60,5,1535),d(v,"class","section-header svelte-1q7urtj"),h(v,I,59,4,1501),d(C,"class","setting-label svelte-1q7urtj"),h(C,I,68,6,1759),d(z,"class","setting-description svelte-1q7urtj"),h(z,I,69,6,1821),d(c,"class","setting-info svelte-1q7urtj"),h(c,I,67,5,1726),d(Y,"class","change-button svelte-1q7urtj"),h(Y,I,82,6,2247),d(G,"class","setting-control svelte-1q7urtj"),h(G,I,73,5,1926),d(j,"class","setting-item svelte-1q7urtj"),h(j,I,66,4,1694),d(f,"class","settings-section svelte-1q7urtj"),h(f,I,58,3,1462),d(se,"class","svelte-1q7urtj"),h(se,I,94,6,2646),d(J,"class","section-title svelte-1q7urtj"),h(J,I,92,5,2533),d(ue,"class","section-header svelte-1q7urtj"),h(ue,I,91,4,2499),d(ie,"class","coming-soon svelte-1q7urtj"),h(ie,I,98,5,2720),d(fe,"class","setting-item svelte-1q7urtj"),h(fe,I,97,4,2688),d(Z,"class","settings-section svelte-1q7urtj"),h(Z,I,90,3,2460),d(oe,"class","svelte-1q7urtj"),h(oe,I,106,6,2981),d(K,"class","section-title svelte-1q7urtj"),h(K,I,104,5,2870),d(de,"class","section-header svelte-1q7urtj"),h(de,I,103,4,2836),d(le,"class","coming-soon svelte-1q7urtj"),h(le,I,110,5,3054),d(ve,"class","setting-item svelte-1q7urtj"),h(ve,I,109,4,3022),d(ee,"class","settings-section svelte-1q7urtj"),h(ee,I,102,3,2797),d(n,"class","settings-container svelte-1q7urtj"),h(n,I,54,2,1350),d(s,"class","content svelte-1q7urtj"),h(s,I,53,1,1326),d(e,"class","page-container svelte-1q7urtj"),h(e,I,50,0,1282)},m:function(y,A){U(y,e,A),X(t,e,null),a(e,i),a(e,s),a(s,n),a(n,o),a(n,p),a(n,f),a(f,v),a(v,u),k&&X(k,u,null),a(u,b),a(u,M),a(f,S),a(f,j),a(j,c),a(c,C),a(c,ne),a(c,z),a(j,Ae),a(j,G),ce[P].m(G,null),a(G,Ie),a(G,Y),a(n,He),a(n,Z),a(Z,ue),a(ue,J),E&&X(E,J,null),a(J,De),a(J,se),a(Z,Te),a(Z,fe),a(fe,ie),a(n,Ue),a(n,ee),a(ee,de),a(de,K),q&&X(q,K,null),a(K,we),a(K,oe),a(ee,ze),a(ee,ve),a(ve,le),U(y,Ee,A),X(te,y,A),qe=!0,Ge||(ct=ye(Y,"click",l[4],!1,!1,!1),Ge=!0)},p:function(y,[A]){if(me!==(me=Oe)){if(k){Ce();const R=k;H(R.$$.fragment,1,0,()=>{Q(R,1)}),je()}me?(k=ae(me,at()),W(k.$$.fragment),T(k.$$.fragment,1),X(k,u,b)):k=null}let be=P;if(P=ut(y),P===be?ce[P].p(y,A):(Ce(),H(ce[be],1,1,()=>{ce[be]=null}),je(),O=ce[P],O?O.p(y,A):(O=ce[P]=rt[P](y),O.c()),T(O,1),O.m(G,Ie)),pe!==(pe=It)){if(E){Ce();const R=E;H(R.$$.fragment,1,0,()=>{Q(R,1)}),je()}pe?(E=ae(pe,ft()),W(E.$$.fragment),T(E.$$.fragment,1),X(E,J,De)):E=null}if(ge!==(ge=Dt)){if(q){Ce();const R=q;H(R.$$.fragment,1,0,()=>{Q(R,1)}),je()}ge?(q=ae(ge,dt()),W(q.$$.fragment),T(q.$$.fragment,1),X(q,K,we)):q=null}const F={};!Fe&&A&1&&(Fe=!0,F.open=y[0],Jt(()=>Fe=!1)),te.$set(F)},i:function(y){qe||(T(t.$$.fragment,y),k&&T(k.$$.fragment,y),T(O),E&&T(E.$$.fragment,y),q&&T(q.$$.fragment,y),T(te.$$.fragment,y),qe=!0)},o:function(y){H(t.$$.fragment,y),k&&H(k.$$.fragment,y),H(O),E&&H(E.$$.fragment,y),q&&H(q.$$.fragment,y),H(te.$$.fragment,y),qe=!1},d:function(y){y&&(g(e),g(Ee)),Q(t),k&&Q(k),ce[P].d(),E&&Q(E),q&&Q(q),Q(te,y),Ge=!1,ct()}};return N("SvelteRegisterBlock",{block:ht,id:Xe.name,type:"component",source:"",ctx:l}),ht}function en(l,e,t){let i;qt(he,"settingsStore"),Mt(l,he,b=>t(3,i=b));let{$$slots:s={},$$scope:n}=e;$t("Page",s,[]);let o=!1,r="Default",p=!1;async function f(){t(2,p=!0);try{const b=i.selectedMicrophoneId;if(!b){t(1,r="Default");return}await navigator.mediaDevices.getUserMedia({audio:!0});const w=(await navigator.mediaDevices.enumerateDevices()).find(S=>S.deviceId===b&&S.kind==="audioinput");w?.label?t(1,r=w.label):t(1,r=`Microphone ${b.slice(0,8)}...`)}catch(b){console.error("Failed to get microphone label:",b),t(1,r="Default")}finally{t(2,p=!1)}}Pe(()=>{f()});const v=[];Object.keys(e).forEach(b=>{!~v.indexOf(b)&&b.slice(0,2)!=="$$"&&b!=="slot"&&Zt.warn(`<Page> was created with unknown prop '${b}'`)});const u=()=>t(0,o=!0);function k(b){o=b,t(0,o)}return l.$capture_state=()=>({onMount:Pe,Header:Lt,MicrophoneDialog:At,settingsStore:he,Icons:Xt,showMicrophoneDialog:o,currentMicrophoneLabel:r,loadingLabel:p,getCurrentMicrophoneLabel:f,$settingsStore:i}),l.$inject_state=b=>{"showMicrophoneDialog"in b&&t(0,o=b.showMicrophoneDialog),"currentMicrophoneLabel"in b&&t(1,r=b.currentMicrophoneLabel),"loadingLabel"in b&&t(2,p=b.loadingLabel)},e&&"$$inject"in e&&l.$inject_state(e.$$inject),l.$$.update=()=>{l.$$.dirty&8&&i.selectedMicrophoneId&&f()},[o,r,p,i,u,k]}class an extends Vt{constructor(e){super(e),xt(this,e,en,Xe,Et,{}),N("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:Xe.name})}}export{an as component};
