import{s as qt,n as _e,v as St,c as Mt,o as Pe,q as yt,a1 as Gt,r as Vt,a2 as Ft,b as h,d as _,e as I,h as $,g as V,j as m,k as x,f as Ze,t as et,a3 as Ct,u as Jt,a4 as Kt}from"./CMwHc_3Q.js";import{S as xt,i as $t,d as N,v as Bt,a as g,j as z,k as a,o as ye,l as d,p as jt,u as It,s as tt,w as Qt,x as Wt,c as re,y as Xt,b as W,t as T,e as U,f as Ce,h as X,m as Y,n as ke,g as je}from"./D9C0UmUm.js";import{g as Lt}from"./D0QH3NT1.js";import{H as Rt}from"./CN9hnsMj.js";import{s as he,A as Oe}from"./D0HF1EDb.js";import{I as Yt,M as Ae,V as Dt,G as wt}from"./Dlq4qvvo.js";const{Error:Et,console:Zt}=Lt,L="C:/Users/Евгений/Documents/AlfaVoice/client/src/lib/components/MicrophoneDialog.svelte";function Ne(l,e,t){const o=l.slice();return o[12]=e[t],o}function Ke(l){let e,t,o,s,n="Select Microphone",i,r,p="✕",f,v,u,k;function b(y,c){return y[2]?At:y[3]?Ot:y[1].length===0?Pt:Nt}let S=b(l),D=S(l);const M={c:function(){e=m("div"),t=m("div"),o=m("div"),s=m("h2"),s.textContent=n,i=x(),r=m("button"),r.textContent=p,f=x(),v=m("div"),D.c(),this.h()},l:function(c){e=_(c,"DIV",{class:!0});var w=I(e);t=_(w,"DIV",{class:!0});var P=I(t);o=_(P,"DIV",{class:!0});var se=I(o);s=_(se,"H2",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-vlqfe6"&&(s.textContent=n),i=V(se),r=_(se,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),$(r)!=="svelte-apaby2"&&(r.textContent=p),se.forEach(g),f=V(P),v=_(P,"DIV",{class:!0});var G=I(v);D.l(G),G.forEach(g),P.forEach(g),w.forEach(g),this.h()},h:function(){d(s,"class","svelte-tsja7e"),h(s,L,62,4,1193),d(r,"class","close-button svelte-tsja7e"),d(r,"aria-label","Close"),h(r,L,63,4,1224),d(o,"class","dialog-header svelte-tsja7e"),h(o,L,61,3,1161),d(v,"class","dialog-content svelte-tsja7e"),h(v,L,68,3,1340),d(t,"class","dialog svelte-tsja7e"),h(t,L,60,2,1112),d(e,"class","dialog-overlay svelte-tsja7e"),h(e,L,59,1,1049)},m:function(c,w){z(c,e,w),a(e,t),a(t,o),a(o,s),a(o,i),a(o,r),a(t,f),a(t,v),D.m(v,null),u||(k=[ye(r,"click",l[7],!1,!1,!1),ye(t,"click",Ft(l[6]),!1,!1,!0),ye(e,"click",l[10],!1,!1,!1)],u=!0)},p:function(c,w){S===(S=b(c))&&D?D.p(c,w):(D.d(1),D=S(c),D&&(D.c(),D.m(v,null)))},d:function(c){c&&g(e),D.d(),u=!1,Vt(k)}};return N("SvelteRegisterBlock",{block:M,id:Ke.name,type:"if",source:"(41:0) {#if open}",ctx:l}),M}function Nt(l){let e,t=[],o=new Map,s=jt(l[1]);const n=r=>r[12].deviceId;It(l,s,Ne,n);for(let r=0;r<s.length;r+=1){let p=Ne(l,s,r),f=n(p);o.set(f,t[r]=We(f,p))}const i={c:function(){e=m("ul");for(let p=0;p<t.length;p+=1)t[p].c();this.h()},l:function(p){e=_(p,"UL",{class:!0});var f=I(e);for(let v=0;v<t.length;v+=1)t[v].l(f);f.forEach(g),this.h()},h:function(){d(e,"class","device-list svelte-tsja7e"),h(e,L,76,5,1605)},m:function(p,f){z(p,e,f);for(let v=0;v<t.length;v+=1)t[v]&&t[v].m(e,null)},p:function(p,f){f&50&&(s=jt(p[1]),It(p,s,Ne,n),t=Qt(t,f,n,1,p,s,o,e,Wt,We,null,Ne))},d:function(p){p&&g(e);for(let f=0;f<t.length;f+=1)t[f].d()}};return N("SvelteRegisterBlock",{block:i,id:Nt.name,type:"else",source:"(58:4) {:else}",ctx:l}),i}function Pt(l){let e,t="No microphones found";const o={c:function(){e=m("div"),e.textContent=t,this.h()},l:function(n){e=_(n,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-10c5d20"&&(e.textContent=t),this.h()},h:function(){d(e,"class","empty svelte-tsja7e"),h(e,L,74,5,1542)},m:function(n,i){z(n,e,i)},p:_e,d:function(n){n&&g(e)}};return N("SvelteRegisterBlock",{block:o,id:Pt.name,type:"if",source:"(56:35) ",ctx:l}),o}function Ot(l){let e,t;const o={c:function(){e=m("div"),t=et(l[3]),this.h()},l:function(n){e=_(n,"DIV",{class:!0});var i=I(e);t=Ze(i,l[3]),i.forEach(g),this.h()},h:function(){d(e,"class","error svelte-tsja7e"),h(e,L,72,5,1468)},m:function(n,i){z(n,e,i),a(e,t)},p:function(n,i){i&8&&tt(t,n[3])},d:function(n){n&&g(e)}};return N("SvelteRegisterBlock",{block:o,id:Ot.name,type:"if",source:"(54:20) ",ctx:l}),o}function At(l){let e,t="Loading microphones...";const o={c:function(){e=m("div"),e.textContent=t,this.h()},l:function(n){e=_(n,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-p2j21a"&&(e.textContent=t),this.h()},h:function(){d(e,"class","loading svelte-tsja7e"),h(e,L,70,5,1392)},m:function(n,i){z(n,e,i)},p:_e,d:function(n){n&&g(e)}};return N("SvelteRegisterBlock",{block:o,id:At.name,type:"if",source:"(52:4) {#if loading}",ctx:l}),o}function Qe(l){let e,t="✓";const o={c:function(){e=m("span"),e.textContent=t,this.h()},l:function(n){e=_(n,"SPAN",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-6ki677"&&(e.textContent=t),this.h()},h:function(){d(e,"class","selected-indicator svelte-tsja7e"),h(e,L,94,10,2253)},m:function(n,i){z(n,e,i)},d:function(n){n&&g(e)}};return N("SvelteRegisterBlock",{block:o,id:Qe.name,type:"if",source:"(76:9) {#if $settingsStore.selectedMicrophoneId === device.deviceId}",ctx:l}),o}function We(l,e){let t,o,s,n=e[12].label+"",i,r,p,f,v,u=e[4].selectedMicrophoneId===e[12].deviceId&&Qe(e);function k(){return e[8](e[12])}function b(...D){return e[9](e[12],...D)}const S={key:l,first:null,c:function(){t=m("li"),o=m("div"),s=m("span"),i=et(n),r=x(),u&&u.c(),p=x(),this.h()},l:function(M){t=_(M,"LI",{class:!0,role:!0,tabindex:!0});var y=I(t);o=_(y,"DIV",{class:!0});var c=I(o);s=_(c,"SPAN",{class:!0});var w=I(s);i=Ze(w,n),w.forEach(g),r=V(c),u&&u.l(c),c.forEach(g),p=V(y),y.forEach(g),this.h()},h:function(){d(s,"class","device-label svelte-tsja7e"),h(s,L,92,9,2123),d(o,"class","device-info svelte-tsja7e"),h(o,L,91,8,2088),d(t,"class","device-item svelte-tsja7e"),d(t,"role","button"),d(t,"tabindex","0"),Ct(t,"selected",e[4].selectedMicrophoneId===e[12].deviceId),h(t,L,78,7,1687),this.first=t},m:function(M,y){z(M,t,y),a(t,o),a(o,s),a(s,i),a(o,r),u&&u.m(o,null),a(t,p),f||(v=[ye(t,"click",k,!1,!1,!1),ye(t,"keydown",b,!1,!1,!1)],f=!0)},p:function(M,y){e=M,y&2&&n!==(n=e[12].label+"")&&tt(i,n),e[4].selectedMicrophoneId===e[12].deviceId?u||(u=Qe(e),u.c(),u.m(o,null)):u&&(u.d(1),u=null),y&18&&Ct(t,"selected",e[4].selectedMicrophoneId===e[12].deviceId)},d:function(M){M&&g(t),u&&u.d(),f=!1,Vt(v)}};return N("SvelteRegisterBlock",{block:S,id:We.name,type:"each",source:"(60:6) {#each devices as device (device.deviceId)}",ctx:e}),S}function Xe(l){let e,t=l[0]&&Ke(l);const o={c:function(){t&&t.c(),e=yt()},l:function(n){t&&t.l(n),e=yt()},m:function(n,i){t&&t.m(n,i),z(n,e,i)},p:function(n,[i]){n[0]?t?t.p(n,i):(t=Ke(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:_e,o:_e,d:function(n){n&&g(e),t&&t.d(n)}};return N("SvelteRegisterBlock",{block:o,id:Xe.name,type:"component",source:"",ctx:l}),o}function en(l,e,t){let o;St(he,"settingsStore"),Mt(l,he,c=>t(4,o=c));let{$$slots:s={},$$scope:n}=e;Bt("MicrophoneDialog",s,[]);let{open:i=!1}=e,r=[],p=!1,f=null;async function v(){t(2,p=!0),t(3,f=null),t(1,r=[]);try{const w=await new Oe().getDevices();t(1,r=w.map(P=>({deviceId:P.deviceId,label:P.label||`Microphone ${P.deviceId.slice(0,8)}...`,kind:P.kind})))}catch(c){t(3,f=c instanceof Error?c.message:"Failed to load microphones")}finally{t(2,p=!1)}}function u(c){console.log("[DEBUG] Selected device:",c),he.setSelectedMicrophoneId(c),t(0,i=!1)}Pe(()=>{i&&v()});const k=["open"];Object.keys(e).forEach(c=>{!~k.indexOf(c)&&c.slice(0,2)!=="$$"&&c!=="slot"&&Zt.warn(`<MicrophoneDialog> was created with unknown prop '${c}'`)});function b(c){Gt.call(this,l,c)}const S=()=>t(0,i=!1),D=c=>u(c.deviceId),M=(c,w)=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),u(c.deviceId))},y=()=>t(0,i=!1);return l.$$set=c=>{"open"in c&&t(0,i=c.open)},l.$capture_state=()=>({onMount:Pe,settingsStore:he,AudioCapture:Oe,open:i,devices:r,loading:p,error:f,loadDevices:v,selectDevice:u,$settingsStore:o}),l.$inject_state=c=>{"open"in c&&t(0,i=c.open),"devices"in c&&t(1,r=c.devices),"loading"in c&&t(2,p=c.loading),"error"in c&&t(3,f=c.error)},e&&"$$inject"in e&&l.$inject_state(e.$$inject),l.$$.update=()=>{l.$$.dirty&3&&i&&r.length===0&&v()},[i,r,p,f,o,u,b,S,D,M,y]}class Ht extends xt{constructor(e){super(e),$t(this,e,en,Xe,qt,{open:0}),N("SvelteRegisterComponent",{component:this,tagName:"MicrophoneDialog",options:e,id:Xe.name})}get open(){throw new Et("<MicrophoneDialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set open(e){throw new Et("<MicrophoneDialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:tn}=Lt,j="C:/Users/Евгений/Documents/AlfaVoice/client/src/routes/settings/+page.svelte";function Tt(l){let e,t,o,s,n,i;var r=Ae;function p(v,u){return{props:{size:16,class:"mic-icon"},$$inline:!0}}r&&(t=re(r,p()));const f={c:function(){e=m("div"),t&&X(t.$$.fragment),o=x(),s=m("span"),n=et(l[1]),this.h()},l:function(u){e=_(u,"DIV",{class:!0});var k=I(e);t&&ke(t.$$.fragment,k),o=V(k),s=_(k,"SPAN",{});var b=I(s);n=Ze(b,l[1]),b.forEach(g),k.forEach(g),this.h()},h:function(){h(s,j,80,8,2158),d(e,"class","microphone-label svelte-1q7urtj"),h(e,j,78,7,2046)},m:function(u,k){z(u,e,k),t&&Y(t,e,null),a(e,o),a(e,s),a(s,n),i=!0},p:function(u,k){if(r!==(r=Ae)){if(t){je();const b=t;T(b.$$.fragment,1,0,()=>{W(b,1)}),Ce()}r?(t=re(r,p()),X(t.$$.fragment),U(t.$$.fragment,1),Y(t,e,o)):t=null}(!i||k&2)&&tt(n,u[1])},i:function(u){i||(t&&U(t.$$.fragment,u),i=!0)},o:function(u){t&&T(t.$$.fragment,u),i=!1},d:function(u){u&&g(e),t&&W(t)}};return N("SvelteRegisterBlock",{block:f,id:Tt.name,type:"else",source:"(67:6) {:else}",ctx:l}),f}function Ut(l){let e,t="Загрузка...";const o={c:function(){e=m("div"),e.textContent=t,this.h()},l:function(n){e=_(n,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-r1ps2s"&&(e.textContent=t),this.h()},h:function(){d(e,"class","microphone-label loading svelte-1q7urtj"),h(e,j,76,7,1969)},m:function(n,i){z(n,e,i)},p:_e,i:_e,o:_e,d:function(n){n&&g(e)}};return N("SvelteRegisterBlock",{block:o,id:Ut.name,type:"if",source:"(65:6) {#if loadingLabel}",ctx:l}),o}function Ye(l){let e,t,o,s,n,i,r="Настройки",p,f,v,u,k,b,S,D="Микрофон",M,y,c,w,P="Выбранный микрофон",se,G,nt="Выберите устройство для записи голоса",He,J,O,A,Ie,Z,st="Изменить",Te,ee,ue,K,E,De,oe,ot="Аудио",Ue,fe,ie,it="Скоро будет доступно",ze,te,de,Q,q,we,le,lt="Язык",Ge,ve,ce,ct="Скоро будет доступно",Ee,ne,Fe,qe,Je,at;t=new Rt({$$inline:!0});var me=Ae;function rt(B,C){return{props:{size:20,class:"section-icon"},$$inline:!0}}me&&(k=re(me,rt()));const ut=[Ut,Tt],ae=[];function ft(B,C){return B[2]?0:1}O=ft(l),A=ae[O]=ut[O](l);var pe=Dt;function dt(B,C){return{props:{size:20,class:"section-icon"},$$inline:!0}}pe&&(E=re(pe,dt()));var ge=wt;function vt(B,C){return{props:{size:20,class:"section-icon"},$$inline:!0}}ge&&(q=re(ge,vt()));function zt(B){l[5](B)}let ht={};l[0]!==void 0&&(ht.open=l[0]),ne=new Ht({props:ht,$$inline:!0}),Jt.push(()=>Xt(ne,"open",zt));const _t={c:function(){e=m("div"),X(t.$$.fragment),o=x(),s=m("div"),n=m("div"),i=m("h1"),i.textContent=r,p=x(),f=m("section"),v=m("div"),u=m("div"),k&&X(k.$$.fragment),b=x(),S=m("h2"),S.textContent=D,M=x(),y=m("div"),c=m("div"),w=m("label"),w.textContent=P,se=x(),G=m("p"),G.textContent=nt,He=x(),J=m("div"),A.c(),Ie=x(),Z=m("button"),Z.textContent=st,Te=x(),ee=m("section"),ue=m("div"),K=m("div"),E&&X(E.$$.fragment),De=x(),oe=m("h2"),oe.textContent=ot,Ue=x(),fe=m("div"),ie=m("p"),ie.textContent=it,ze=x(),te=m("section"),de=m("div"),Q=m("div"),q&&X(q.$$.fragment),we=x(),le=m("h2"),le.textContent=lt,Ge=x(),ve=m("div"),ce=m("p"),ce.textContent=ct,Ee=x(),X(ne.$$.fragment),this.h()},l:function(C){e=_(C,"DIV",{class:!0});var H=I(e);ke(t.$$.fragment,H),o=V(H),s=_(H,"DIV",{class:!0});var be=I(s);n=_(be,"DIV",{class:!0});var F=I(n);i=_(F,"H1",{class:!0,"data-svelte-h":!0}),$(i)!=="svelte-1hus8pa"&&(i.textContent=r),p=V(F),f=_(F,"SECTION",{class:!0});var R=I(f);v=_(R,"DIV",{class:!0});var mt=I(v);u=_(mt,"DIV",{class:!0});var Se=I(u);k&&ke(k.$$.fragment,Se),b=V(Se),S=_(Se,"H2",{class:!0,"data-svelte-h":!0}),$(S)!=="svelte-pxwg5v"&&(S.textContent=D),Se.forEach(g),mt.forEach(g),M=V(R),y=_(R,"DIV",{class:!0});var Me=I(y);c=_(Me,"DIV",{class:!0});var Ve=I(c);w=_(Ve,"LABEL",{class:!0,"data-svelte-h":!0}),$(w)!=="svelte-1ypr2e3"&&(w.textContent=P),se=V(Ve),G=_(Ve,"P",{class:!0,"data-svelte-h":!0}),$(G)!=="svelte-1aar4yd"&&(G.textContent=nt),Ve.forEach(g),He=V(Me),J=_(Me,"DIV",{class:!0});var xe=I(J);A.l(xe),Ie=V(xe),Z=_(xe,"BUTTON",{class:!0,"data-svelte-h":!0}),$(Z)!=="svelte-1q0ngq9"&&(Z.textContent=st),xe.forEach(g),Me.forEach(g),R.forEach(g),Te=V(F),ee=_(F,"SECTION",{class:!0});var $e=I(ee);ue=_($e,"DIV",{class:!0});var pt=I(ue);K=_(pt,"DIV",{class:!0});var Be=I(K);E&&ke(E.$$.fragment,Be),De=V(Be),oe=_(Be,"H2",{class:!0,"data-svelte-h":!0}),$(oe)!=="svelte-6rmuc5"&&(oe.textContent=ot),Be.forEach(g),pt.forEach(g),Ue=V($e),fe=_($e,"DIV",{class:!0});var gt=I(fe);ie=_(gt,"P",{class:!0,"data-svelte-h":!0}),$(ie)!=="svelte-1togwdk"&&(ie.textContent=it),gt.forEach(g),$e.forEach(g),ze=V(F),te=_(F,"SECTION",{class:!0});var Le=I(te);de=_(Le,"DIV",{class:!0});var bt=I(de);Q=_(bt,"DIV",{class:!0});var Re=I(Q);q&&ke(q.$$.fragment,Re),we=V(Re),le=_(Re,"H2",{class:!0,"data-svelte-h":!0}),$(le)!=="svelte-n2j24x"&&(le.textContent=lt),Re.forEach(g),bt.forEach(g),Ge=V(Le),ve=_(Le,"DIV",{class:!0});var kt=I(ve);ce=_(kt,"P",{class:!0,"data-svelte-h":!0}),$(ce)!=="svelte-1togwdk"&&(ce.textContent=ct),kt.forEach(g),Le.forEach(g),F.forEach(g),be.forEach(g),H.forEach(g),Ee=V(C),ke(ne.$$.fragment,C),this.h()},h:function(){d(i,"class","page-title svelte-1q7urtj"),h(i,j,56,3,1367),d(S,"class","svelte-1q7urtj"),h(S,j,63,6,1625),d(u,"class","section-title svelte-1q7urtj"),h(u,j,61,5,1516),d(v,"class","section-header svelte-1q7urtj"),h(v,j,60,4,1482),d(w,"class","setting-label svelte-1q7urtj"),h(w,j,69,6,1740),d(G,"class","setting-description svelte-1q7urtj"),h(G,j,70,6,1802),d(c,"class","setting-info svelte-1q7urtj"),h(c,j,68,5,1707),d(Z,"class","change-button svelte-1q7urtj"),h(Z,j,83,6,2228),d(J,"class","setting-control svelte-1q7urtj"),h(J,j,74,5,1907),d(y,"class","setting-item svelte-1q7urtj"),h(y,j,67,4,1675),d(f,"class","settings-section svelte-1q7urtj"),h(f,j,59,3,1443),d(oe,"class","svelte-1q7urtj"),h(oe,j,95,6,2627),d(K,"class","section-title svelte-1q7urtj"),h(K,j,93,5,2514),d(ue,"class","section-header svelte-1q7urtj"),h(ue,j,92,4,2480),d(ie,"class","coming-soon svelte-1q7urtj"),h(ie,j,99,5,2701),d(fe,"class","setting-item svelte-1q7urtj"),h(fe,j,98,4,2669),d(ee,"class","settings-section svelte-1q7urtj"),h(ee,j,91,3,2441),d(le,"class","svelte-1q7urtj"),h(le,j,107,6,2962),d(Q,"class","section-title svelte-1q7urtj"),h(Q,j,105,5,2851),d(de,"class","section-header svelte-1q7urtj"),h(de,j,104,4,2817),d(ce,"class","coming-soon svelte-1q7urtj"),h(ce,j,111,5,3035),d(ve,"class","setting-item svelte-1q7urtj"),h(ve,j,110,4,3003),d(te,"class","settings-section svelte-1q7urtj"),h(te,j,103,3,2778),d(n,"class","settings-container svelte-1q7urtj"),h(n,j,55,2,1331),d(s,"class","content svelte-1q7urtj"),h(s,j,54,1,1307),d(e,"class","page-container svelte-1q7urtj"),h(e,j,51,0,1263)},m:function(C,H){z(C,e,H),Y(t,e,null),a(e,o),a(e,s),a(s,n),a(n,i),a(n,p),a(n,f),a(f,v),a(v,u),k&&Y(k,u,null),a(u,b),a(u,S),a(f,M),a(f,y),a(y,c),a(c,w),a(c,se),a(c,G),a(y,He),a(y,J),ae[O].m(J,null),a(J,Ie),a(J,Z),a(n,Te),a(n,ee),a(ee,ue),a(ue,K),E&&Y(E,K,null),a(K,De),a(K,oe),a(ee,Ue),a(ee,fe),a(fe,ie),a(n,ze),a(n,te),a(te,de),a(de,Q),q&&Y(q,Q,null),a(Q,we),a(Q,le),a(te,Ge),a(te,ve),a(ve,ce),z(C,Ee,H),Y(ne,C,H),qe=!0,Je||(at=ye(Z,"click",l[4],!1,!1,!1),Je=!0)},p:function(C,[H]){if(me!==(me=Ae)){if(k){je();const R=k;T(R.$$.fragment,1,0,()=>{W(R,1)}),Ce()}me?(k=re(me,rt()),X(k.$$.fragment),U(k.$$.fragment,1),Y(k,u,b)):k=null}let be=O;if(O=ft(C),O===be?ae[O].p(C,H):(je(),T(ae[be],1,1,()=>{ae[be]=null}),Ce(),A=ae[O],A?A.p(C,H):(A=ae[O]=ut[O](C),A.c()),U(A,1),A.m(J,Ie)),pe!==(pe=Dt)){if(E){je();const R=E;T(R.$$.fragment,1,0,()=>{W(R,1)}),Ce()}pe?(E=re(pe,dt()),X(E.$$.fragment),U(E.$$.fragment,1),Y(E,K,De)):E=null}if(ge!==(ge=wt)){if(q){je();const R=q;T(R.$$.fragment,1,0,()=>{W(R,1)}),Ce()}ge?(q=re(ge,vt()),X(q.$$.fragment),U(q.$$.fragment,1),Y(q,Q,we)):q=null}const F={};!Fe&&H&1&&(Fe=!0,F.open=C[0],Kt(()=>Fe=!1)),ne.$set(F)},i:function(C){qe||(U(t.$$.fragment,C),k&&U(k.$$.fragment,C),U(A),E&&U(E.$$.fragment,C),q&&U(q.$$.fragment,C),U(ne.$$.fragment,C),qe=!0)},o:function(C){T(t.$$.fragment,C),k&&T(k.$$.fragment,C),T(A),E&&T(E.$$.fragment,C),q&&T(q.$$.fragment,C),T(ne.$$.fragment,C),qe=!1},d:function(C){C&&(g(e),g(Ee)),W(t),k&&W(k),ae[O].d(),E&&W(E),q&&W(q),W(ne,C),Je=!1,at()}};return N("SvelteRegisterBlock",{block:_t,id:Ye.name,type:"component",source:"",ctx:l}),_t}function nn(l,e,t){let o;St(he,"settingsStore"),Mt(l,he,b=>t(3,o=b));let{$$slots:s={},$$scope:n}=e;Bt("Page",s,[]);let i=!1,r="Default",p=!1;async function f(){t(2,p=!0);try{const b=o.selectedMicrophoneId;if(!b){t(1,r="Default");return}const M=(await new Oe().getDevices()).find(y=>y.deviceId===b);M?.label?t(1,r=M.label):t(1,r=`Microphone ${b.slice(0,8)}...`)}catch(b){console.error("Failed to get microphone label:",b),t(1,r="Default")}finally{t(2,p=!1)}}Pe(()=>{f()});const v=[];Object.keys(e).forEach(b=>{!~v.indexOf(b)&&b.slice(0,2)!=="$$"&&b!=="slot"&&tn.warn(`<Page> was created with unknown prop '${b}'`)});const u=()=>t(0,i=!0);function k(b){i=b,t(0,i)}return l.$capture_state=()=>({onMount:Pe,Header:Rt,MicrophoneDialog:Ht,settingsStore:he,AudioCapture:Oe,Icons:Yt,showMicrophoneDialog:i,currentMicrophoneLabel:r,loadingLabel:p,getCurrentMicrophoneLabel:f,$settingsStore:o}),l.$inject_state=b=>{"showMicrophoneDialog"in b&&t(0,i=b.showMicrophoneDialog),"currentMicrophoneLabel"in b&&t(1,r=b.currentMicrophoneLabel),"loadingLabel"in b&&t(2,p=b.loadingLabel)},e&&"$$inject"in e&&l.$inject_state(e.$$inject),l.$$.update=()=>{l.$$.dirty&8&&o.selectedMicrophoneId&&f()},[i,r,p,o,u,k]}class un extends xt{constructor(e){super(e),$t(this,e,nn,Ye,qt,{}),N("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:Ye.name})}}export{un as component};
