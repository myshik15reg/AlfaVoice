import{s as Rt,v as pt,c as vt,b as m,d,e as N,f as Z,g as b,h as ht,j as p,t as B,k as H}from"./CMwHc_3Q.js";import{S as zt,i as Ft,d as Vt,c as U,v as qt,a as j,b as G,t as J,e as K,s as nt,g as _t,f as gt,h as L,m as Q,j as Ot,k as s,l as v,n as wt}from"./D9C0UmUm.js";import{F as Tt,a as Wt,Z as Mt,I as Zt}from"./Dlq4qvvo.js";import{d as Bt,w as rt}from"./B8tGgVml.js";const at=rt(0),$t=rt(1),xt=rt([]),Nt=rt(null);function Ut(e){return!e||e.trim().length===0?0:e.trim().split(/[\s,.!?;:()"']+/).filter(r=>r.length>0).length}const jt=Bt([xt,Nt],([e,n])=>{if(e.length===0||n===null)return 0;const f=Date.now()-3e4,o=e.filter(t=>t.timestamp>f);if(o.length===0)return 0;const E=o[0].timestamp,g=o[o.length-1].timestamp-E,u=Math.max(g,1e3)/6e4;return Math.round(o.length/u)});function Xt(e,n=""){const r=Ut(e);at.set(r);const f=Date.now(),o=e.trim().split(/[\s,.!?;:()"']+/).filter(g=>g.length>0),E=n.trim().split(/[\s,.!?;:()"']+/).filter(g=>g.length>0),S=o.slice(E.length);S.length>0&&xt.update(g=>{const c=S.map(k=>({word:k,timestamp:f})),u=f-6e4;return[...g.filter(k=>k.timestamp>u),...c]})}function Yt(){Nt.set(Date.now())}function te(){Nt.set(null)}const h="C:/Users/Евгений/Documents/AlfaVoice/client/src/lib/components/Header.svelte";function Et(e){let n,r,f,o,E,S,g,c,u,t,k,y,St="Серия",ot,A,X,it,lt,w,i,Y,I,Ct="Слова",ct,W,tt,ut,$,l,et,P,Dt="Слов/мин",ft,M,st,T;var V=Tt;function bt(C,a){return{props:{size:18,class:"stat-icon"},$$inline:!0}}V&&(t=U(V,bt()));var x=Wt;function Ht(C,a){return{props:{size:18,class:"stat-icon"},$$inline:!0}}x&&(i=U(x,Ht()));var R=Mt;function kt(C,a){return{props:{size:18,class:"stat-icon"},$$inline:!0}}R&&(l=U(R,kt()));const yt={c:function(){n=p("header"),r=p("div"),f=p("div"),o=p("h1"),E=B("С возвращением, "),S=B(e[0]),g=H(),c=p("div"),u=p("div"),t&&L(t.$$.fragment),k=H(),y=p("span"),y.textContent=St,ot=H(),A=p("span"),X=B(e[1]),it=B(" день"),lt=H(),w=p("div"),i&&L(i.$$.fragment),Y=H(),I=p("span"),I.textContent=Ct,ct=H(),W=p("span"),tt=B(e[2]),ut=H(),$=p("div"),l&&L(l.$$.fragment),et=H(),P=p("span"),P.textContent=Dt,ft=H(),M=p("span"),st=B(e[3]),this.h()},l:function(a){n=d(a,"HEADER",{class:!0});var D=N(n);r=d(D,"DIV",{class:!0});var _=N(r);f=d(_,"DIV",{class:!0});var At=N(f);o=d(At,"H1",{class:!0});var mt=N(o);E=Z(mt,"С возвращением, "),S=Z(mt,e[0]),mt.forEach(j),At.forEach(j),g=b(_),c=d(_,"DIV",{class:!0});var z=N(c);u=d(z,"DIV",{class:!0});var F=N(u);t&&wt(t.$$.fragment,F),k=b(F),y=d(F,"SPAN",{class:!0,"data-svelte-h":!0}),ht(y)!=="svelte-kzhn69"&&(y.textContent=St),ot=b(F),A=d(F,"SPAN",{class:!0});var dt=N(A);X=Z(dt,e[1]),it=Z(dt," день"),dt.forEach(j),F.forEach(j),lt=b(z),w=d(z,"DIV",{class:!0});var q=N(w);i&&wt(i.$$.fragment,q),Y=b(q),I=d(q,"SPAN",{class:!0,"data-svelte-h":!0}),ht(I)!=="svelte-uniwnq"&&(I.textContent=Ct),ct=b(q),W=d(q,"SPAN",{class:!0});var It=N(W);tt=Z(It,e[2]),It.forEach(j),q.forEach(j),ut=b(z),$=d(z,"DIV",{class:!0});var O=N($);l&&wt(l.$$.fragment,O),et=b(O),P=d(O,"SPAN",{class:!0,"data-svelte-h":!0}),ht(P)!=="svelte-100917y"&&(P.textContent=Dt),ft=b(O),M=d(O,"SPAN",{class:!0});var Pt=N(M);st=Z(Pt,e[3]),Pt.forEach(j),O.forEach(j),z.forEach(j),_.forEach(j),D.forEach(j),this.h()},h:function(){v(o,"class","svelte-7pj7ul"),m(o,h,10,3,290),v(f,"class","greeting svelte-7pj7ul"),m(f,h,9,2,264),v(y,"class","stat-label svelte-7pj7ul"),m(y,h,16,4,461),v(A,"class","stat-value svelte-7pj7ul"),m(A,h,17,4,503),v(u,"class","stat-item svelte-7pj7ul"),m(u,h,14,3,361),v(I,"class","stat-label svelte-7pj7ul"),m(I,h,21,4,666),v(W,"class","stat-value svelte-7pj7ul"),m(W,h,22,4,708),v(w,"class","stat-item svelte-7pj7ul"),m(w,h,19,3,563),v(P,"class","stat-label svelte-7pj7ul"),m(P,h,26,4,865),v(M,"class","stat-value svelte-7pj7ul"),m(M,h,27,4,910),v($,"class","stat-item svelte-7pj7ul"),m($,h,24,3,767),v(c,"class","stats svelte-7pj7ul"),m(c,h,13,2,338),v(r,"class","header-content svelte-7pj7ul"),m(r,h,8,1,233),v(n,"class","header svelte-7pj7ul"),m(n,h,7,0,208)},m:function(a,D){Ot(a,n,D),s(n,r),s(r,f),s(f,o),s(o,E),s(o,S),s(r,g),s(r,c),s(c,u),t&&Q(t,u,null),s(u,k),s(u,y),s(u,ot),s(u,A),s(A,X),s(A,it),s(c,lt),s(c,w),i&&Q(i,w,null),s(w,Y),s(w,I),s(w,ct),s(w,W),s(W,tt),s(c,ut),s(c,$),l&&Q(l,$,null),s($,et),s($,P),s($,ft),s($,M),s(M,st),T=!0},p:function(a,[D]){if((!T||D&1)&&nt(S,a[0]),V!==(V=Tt)){if(t){_t();const _=t;J(_.$$.fragment,1,0,()=>{G(_,1)}),gt()}V?(t=U(V,bt()),L(t.$$.fragment),K(t.$$.fragment,1),Q(t,u,k)):t=null}if((!T||D&2)&&nt(X,a[1]),x!==(x=Wt)){if(i){_t();const _=i;J(_.$$.fragment,1,0,()=>{G(_,1)}),gt()}x?(i=U(x,Ht()),L(i.$$.fragment),K(i.$$.fragment,1),Q(i,w,Y)):i=null}if((!T||D&4)&&nt(tt,a[2]),R!==(R=Mt)){if(l){_t();const _=l;J(_.$$.fragment,1,0,()=>{G(_,1)}),gt()}R?(l=U(R,kt()),L(l.$$.fragment),K(l.$$.fragment,1),Q(l,$,et)):l=null}(!T||D&8)&&nt(st,a[3])},i:function(a){T||(t&&K(t.$$.fragment,a),i&&K(i.$$.fragment,a),l&&K(l.$$.fragment,a),T=!0)},o:function(a){t&&J(t.$$.fragment,a),i&&J(i.$$.fragment,a),l&&J(l.$$.fragment,a),T=!1},d:function(a){a&&j(n),t&&G(t),i&&G(i),l&&G(l)}};return Vt("SvelteRegisterBlock",{block:yt,id:Et.name,type:"component",source:"",ctx:e}),yt}function Gt(e,n,r){let f,o,E;pt($t,"streak"),vt(e,$t,t=>r(1,f=t)),pt(at,"wordsCount"),vt(e,at,t=>r(2,o=t)),pt(jt,"wpmStore"),vt(e,jt,t=>r(3,E=t));let{$$slots:S={},$$scope:g}=n;qt("Header",S,[]);let{userName:c="Евгений"}=n;const u=["userName"];return Object.keys(n).forEach(t=>{!~u.indexOf(t)&&t.slice(0,2)!=="$$"&&t!=="slot"&&console.warn(`<Header> was created with unknown prop '${t}'`)}),e.$$set=t=>{"userName"in t&&r(0,c=t.userName)},e.$capture_state=()=>({Icons:Zt,streak:$t,wordsCount:at,wpmStore:jt,userName:c,$streak:f,$wordsCount:o,$wpmStore:E}),e.$inject_state=t=>{"userName"in t&&r(0,c=t.userName)},n&&"$$inject"in n&&e.$inject_state(n.$$inject),[c,f,o,E]}class ee extends zt{constructor(n){super(n),Ft(this,n,Gt,Et,Rt,{userName:0}),Vt("SvelteRegisterComponent",{component:this,tagName:"Header",options:n,id:Et.name})}get userName(){throw new Error("<Header>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set userName(n){throw new Error("<Header>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{ee as H,Yt as a,te as s,Xt as u};
