import{c as w,v as d,a as f,b as g,f as m,m as h}from"./ssr.js";import{d as M,w as v}from"./index.js";import{I as y,F as _}from"./file-text.js";const W=w((e,s,n,a)=>{const t=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"}]];return`${d(y,"Icon").$$render(e,Object.assign({},{name:"flame"},s,{iconNode:t}),{},{default:()=>`${a.default?a.default({}):""}`})}`}),k=w((e,s,n,a)=>{const t=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"}]];return`${d(y,"Icon").$$render(e,Object.assign({},{name:"zap"},s,{iconNode:t}),{},{default:()=>`${a.default?a.default({}):""}`})}`}),j=v(0),b=v(1),x=v([]),z=v(null);function S(e){return!e||e.trim().length===0?0:e.trim().split(/[\s,.!?;:()"']+/).filter(n=>n.length>0).length}const $=M([x,z],([e,s])=>{if(e.length===0||s===null)return 0;const a=Date.now()-3e4,t=e.filter(u=>u.timestamp>a);if(t.length===0)return 0;const o=t[0].timestamp,l=t[t.length-1].timestamp-o,c=Math.max(l,1e3)/6e4;return Math.round(t.length/c)});function C(e,s=""){const n=S(e);j.set(n);const a=Date.now(),t=e.trim().split(/[\s,.!?;:()"']+/).filter(l=>l.length>0),o=s.trim().split(/[\s,.!?;:()"']+/).filter(l=>l.length>0),i=t.slice(o.length);i.length>0&&x.update(l=>{const p=i.map(r=>({word:r,timestamp:a})),c=a-6e4;return[...l.filter(r=>r.timestamp>c),...p]})}function H(){z.set(null)}const T={code:".header.svelte-7pj7ul.svelte-7pj7ul{background:var(--bg-secondary);border-bottom:1px solid var(--border);padding:1.5rem 2rem}.header-content.svelte-7pj7ul.svelte-7pj7ul{display:flex;justify-content:space-between;align-items:center}.greeting.svelte-7pj7ul h1.svelte-7pj7ul{font-size:1.5rem;font-weight:700;color:var(--text-primary);margin:0}.stats.svelte-7pj7ul.svelte-7pj7ul{display:flex;gap:2rem}.stat-item.svelte-7pj7ul.svelte-7pj7ul{display:flex;align-items:center;gap:0.5rem}.stat-label.svelte-7pj7ul.svelte-7pj7ul{font-size:0.875rem;color:var(--text-secondary);font-weight:500}.stat-value.svelte-7pj7ul.svelte-7pj7ul{font-size:0.95rem;color:var(--text-primary);font-weight:600}@media(max-width: 768px){.header-content.svelte-7pj7ul.svelte-7pj7ul{flex-direction:column;align-items:flex-start;gap:1rem}.stats.svelte-7pj7ul.svelte-7pj7ul{gap:1.5rem}}",map:null},I=w((e,s,n,a)=>{let t,o,i,l,p,c;f(b,"streak"),o=g(b,r=>t=r),f(j,"wordsCount"),l=g(j,r=>i=r),f($,"wpmStore"),c=g($,r=>p=r);let{userName:u="Евгений"}=s;return s.userName===void 0&&n.userName&&u!==void 0&&n.userName(u),e.css.add(T),o(),l(),c(),`<header class="header svelte-7pj7ul"><div class="header-content svelte-7pj7ul"><div class="greeting svelte-7pj7ul"><h1 class="svelte-7pj7ul">С возвращением, ${m(u)}</h1></div> <div class="stats svelte-7pj7ul"><div class="stat-item svelte-7pj7ul">${d(W||h,"svelte:component").$$render(e,{size:18,class:"stat-icon"},{},{})} <span class="stat-label svelte-7pj7ul" data-svelte-h="svelte-kzhn69">Серия</span> <span class="stat-value svelte-7pj7ul">${m(t)} день</span></div> <div class="stat-item svelte-7pj7ul">${d(_||h,"svelte:component").$$render(e,{size:18,class:"stat-icon"},{},{})} <span class="stat-label svelte-7pj7ul" data-svelte-h="svelte-uniwnq">Слова</span> <span class="stat-value svelte-7pj7ul">${m(i)}</span></div> <div class="stat-item svelte-7pj7ul">${d(k||h,"svelte:component").$$render(e,{size:18,class:"stat-icon"},{},{})} <span class="stat-label svelte-7pj7ul" data-svelte-h="svelte-100917y">Слов/мин</span> <span class="stat-value svelte-7pj7ul">${m(p)}</span></div></div></div> </header>`});export{I as H,H as s,C as u};
